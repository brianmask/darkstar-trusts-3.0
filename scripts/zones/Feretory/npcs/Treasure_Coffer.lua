-----------------------------------
-- Area: Ferretory
-- NPC:  Treasure Coffer
-- @pos  -52 0 -11 246
-----------------------------------
package.loaded["scripts/zones/Port_Jeuno/TextIDs"] = nil;
require("scripts/zones/Port_Jeuno/TextIDs");


-----------------------------------
-- onTrade Action
-----------------------------------

function onTrade(player,npc,trade)
local count = trade:getItemCount();
    local prize = trade:getItem(0);
    local a1 = 0;
    local a2 = 0;
    local a3 = 0;
    local a4 = 0;
    local v1 = 0;
    local v2 = 0;
    local v3 = 0;
    local v4 = 0;
	local noaug = 0;
    local power = player:getVar("FerretoryAura");
	
	local exclude = {10964,10965,10966,10967,10968,10969,10970,10971,10972,10973,10974,10975,10976,10977,10978,10979,10980,10981,10982,10983,10984,10985,10986,10987,10988,10989,
10990,10991,10992,10993,10994,10995,10996,10997,10998,10999,11000,11001,11002,11003,11004,11005,11006,11007,11008,11009,11010,10295,10296,10297,10298,10299,11014,11015,11016,11017,11018,11019,
11020,11021,11022,11023,11024,11025,11026,11027,11028,11029,11030,11031,11032,11033,11034,11035,11036,11037,11038,11039,11040,11041,11042,11043,11044,11045,11046,11047,11048,11049,11050,11051,
11052,11053,11054,11055,11056,11057,11058,11059,11060,11061,11678,11679,11680,11681,11682,11683,11684,11685,11686,11687,11688,11689,11690,11691,11692,11693,11694,11695,11696,11697,11698,11699,
11700,11701,11702,11703,11704,11705,11706,11707,11708,11709,11710,11711,11712,11713,11714,11715,11716,11717,11718,11719,11720,11721,11722,11723,11724,11725,11726,11727,13312,13313,13314,13315,
13316,13317,13318,13319,13320,13321,13322,13323,13324,13325,13326,13327,13328,13329,13330,13331,13332,13333,13334,13335,13336,13337,13338,13339,13340,13341,13342,13343,13344,13345,13346,13347,
13348,13349,13350,13351,13352,13353,13354,13355,13356,13357,13358,13359,13360,13361,13362,13363,13364,13365,13366,13367,13368,13369,13370,13371,13372,13373,13374,13375,13376,13377,13378,13379,
13380,13381,13382,13383,13384,13385,13386,13387,13388,13389,13390,13391,13392,13393,13394,13395,13396,13397,13398,13399,13400,13401,13402,13403,13404,13405,13406,13407,13408,13409,13410,13411,
13412,13413,13414,13415,13416,13417,13418,13419,13420,13421,13422,13423,13424,13425,13426,13427,13428,13429,13430,13431,13432,13433,13434,13435,13436,13437,13438,13439,14688,14689,14690,14691,
14692,14693,14694,14695,14696,14697,14698,14699,14700,14701,14702,14703,14704,14705,14706,14707,14708,14709,14710,14711,14712,14713,14714,14715,14716,14717,14718,14719,14720,14721,14722,14723,
14724,14725,14726,14727,14728,14729,14730,14731,14732,14733,14734,14735,14736,14737,14738,14739,14740,14741,14742,14743,14744,14745,14746,14747,14748,14749,14750,14751,14752,14753,14754,14755,
14756,14757,14758,14759,14760,14761,14762,14763,14764,14765,14766,14767,14768,14769,14770,14771,14772,14773,14774,14775,14776,14777,14778,14779,14780,14781,14782,14783,14784,14785,14786,14787,
14788,14789,14790,14791,14792,14793,14794,14795,14796,14797,14798,14799,14800,14801,14802,14803,14804,14805,14806,14807,14808,14809,14810,14811,14812,14813,14814,14815,15961,15962,15963,15964,
15965,15966,15967,15968,15969,15970,15971,15972,15973,15974,15975,15976,15977,15978,15979,15980,15981,15982,15983,15984,15985,15986,15987,15988,15989,15990,15991,15992,15993,15994,15995,15996,
15997,15998,15999,16000,16001,16002,16003,16004,16005,16006,16007,16008,16009,16010,16011,16012,16013,16014,16015,16016,16017,16018,16019,16020,16021,16022,16023,16024,16025,16026,16027,16028,
16029,16030,16031,16032,16033,16034,16035,16036,16037,16038,16039,16040,16041,16042,16043,16044,16045,16046,16047,16048,16049,16050,16052,16053,16054,16055,16056,16057,16058,16059,10392,10393,
10394,10395,10396,10397,10398,10914,10915,10916,10917,10918,10919,10920,10921,10922,10923,10924,10925,10926,10927,10928,10929,10930,10931,10932,10933,10934,10935,10936,10937,10938,10939,10940,
10941,10942,10943,10944,10945,10946,10947,10948,10949,10950,10951,10952,10953,10954,10955,10956,10957,10958,10959,10960,10961,10962,10963,11578,11579,11580,11581,11582,11583,11584,11585,11586,
11587,11588,11589,11590,11591,11592,11593,11594,11595,11596,11597,11598,11599,11600,11601,11602,11603,11604,11605,11606,11607,11608,11609,11610,11611,11612,11613,11614,11615,11616,11617,11618,
11619,11620,11621,11622,11623,11624,11625,11626,11627,11988,11989,11990,11991,11992,11993,11994,11995,11996,11997,11998,11999,12000,12001,12002,12003,12004,12005,12006,12007,13056,13057,13058,
13059,13060,13061,13062,13063,13064,13065,13066,13067,13068,13069,13070,13071,13072,13073,13074,13075,13076,13077,13078,13079,13080,13081,13082,13083,13084,13085,13086,13087,13088,13089,13090,
13091,13092,13093,13094,13095,13096,13097,13098,13099,13100,13101,13102,13103,13104,13105,13106,13107,13108,13109,13110,13111,13112,13113,13114,13115,13116,13117,13118,13119,13120,13121,13122,
13123,13124,13125,13126,13127,13128,13129,13130,13131,13132,13133,13134,13135,13136,13137,13138,13139,13140,13141,13142,13143,13144,13145,13146,13147,13148,13149,13150,13151,13152,13153,13154,
13155,13156,13157,13158,13159,13160,13161,13162,13163,13164,13165,13166,13167,13168,13169,13170,13171,13172,13173,13174,13175,13176,13177,13178,13179,13180,13181,13182,13183,15495,15496,15497,
15498,15499,15500,15501,15502,15503,15504,15505,15506,15507,15508,15509,15510,15511,15512,15513,15514,15515,15516,15517,15518,15519,15520,15521,15522,15523,15524,15525,15526,15527,15528,15529,
15530,15531,15532,15533,15534,15535,15536,15537,15538,15539,15540,16261,16262,16263,16264,16265,16266,16267,16268,16269,16270,16271,16272,16273,16274,16275,16276,16277,16278,16279,16280,16281,
16282,16283,16284,16285,16286,16287,16288,16289,16290,16291,16292,16293,16294,16295,16296,16297,16298,16299,16300,16301,16302,16303,16304,16305,16306,16307,16308,16309,
10750,10751,10752,10753,10754,10755,10756,10757,10758,10759,10760,10761,10762,10763,10764,10765,10766,10767,10768,10769,10770,10771,10772,10773,10774,10775,10776,10777,10778,10779,10780,10781,
10782,10783,10784,10785,10786,10787,10788,10789,10790,10791,10792,10793,10794,10795,10796,10797,10798,10799,11058,11059,11062,11063,11628,11629,11630,11631,11632,11633,11634,11635,11636,11637,
11638,11639,11640,11641,11642,11643,11644,11645,11646,11647,11648,11649,11650,11651,11652,11653,11654,11655,11656,11657,11658,11659,11660,11661,11662,11663,11664,11665,11666,11667,11668,11669,
11670,11671,11672,11673,11674,11675,11676,11677,13280,13281,13282,13283,13284,13285,13286,13287,13288,13289,13290,13291,13292,13293,13294,13295,13296,13297,13298,13299,13300,13301,13302,13303,
13304,13305,13306,13307,13308,13309,13310,13311,13440,13441,13442,13443,13444,13445,13446,13447,13448,13449,13450,13451,13452,13453,13454,13455,13456,13457,13458,13459,13460,13461,13462,13463,
13464,13465,13466,13467,13468,13469,13470,13471,13472,13473,13474,13475,13476,13477,13478,13479,13480,13481,13482,13483,13484,13485,13486,13487,13488,13489,13490,13491,13492,13493,13494,13495,
13496,13497,13498,13499,13500,13501,13502,13503,13504,13505,13506,13507,13508,13509,13510,13511,13512,13513,13514,13515,13516,13517,13518,13519,13520,13521,13522,13523,13524,13525,13526,13527,
13528,13529,13530,13531,13532,13533,13534,13535,13536,13537,13538,13539,13540,13541,13542,13543,13544,13545,13546,13547,13548,13549,13550,13551,13552,13553,13554,13555,13556,13557,14592,14593,
14594,14595,14596,14597,14598,14599,14600,14601,14602,14603,14604,14605,14606,14607,14608,14609,14610,14611,14612,14613,14614,14615,14616,14617,14618,14619,14620,14621,14622,14623,14624,14625,
14626,14627,14628,14629,14630,14631,14632,14633,14634,14635,14636,14637,14638,14639,14640,14641,14642,14643,14644,14645,14646,14647,14648,14649,14650,14651,14652,14653,14654,14655,14656,14657,
14658,14659,14660,14661,14662,14663,14664,14665,14666,14667,14668,14669,14670,14671,14672,14673,14674,14675,14676,14677,14678,14679,14680,14681,14682,14683,14684,14685,14686,14687,15541,15542,
15543,15544,15545,15546,15547,15548,15549,15550,15551,15552,15553,15554,15555,15556,15557,15558,15559,15560,15761,15762,15763,15764,15765,15766,15767,15768,15769,15770,15771,15772,15773,15774,
15775,15776,15777,15778,15779,15780,15781,15782,15783,15784,15785,15786,15787,15788,15789,15790,15791,15792,15793,15794,15795,15796,15797,15798,15799,15800,15801,15802,15803,15804,15805,15806,
15807,15808,15809,15810,15811,15812,15813,15814,15815,15816,15817,15818,15819,15820,15821,15822,15823,15824,15825,15826,15827,15828,15829,15830,15831,15832,15833,15834,15835,15836,15837,15838,
15839,15840,15841,15842,15843,15844,15845,15846,15847,15848,15849,15850,15851,15852,15853,15854,15855,15856,15857,15858,15859,
10814,10815,10816,10817,10818,10819,10820,10821,10822,10823,10824,10825,10826,10827,10828,10829,10830,10831,10832,10833,10834,10835,10836,10837,10838,10839,10840,10841,10842,10843,10844,10845,
10846,10847,10848,10849,10850,10851,10852,11728,11729,11730,11731,11732,11733,11734,11735,11736,11737,11738,11739,11740,11741,11742,11743,11744,11745,11746,11747,11748,11749,11750,11751,11752,
11753,11754,11755,11756,11757,11758,11759,11760,11761,11762,11763,11764,11765,11766,11767,11768,11769,11770,11771,11772,11773,11774,11775,11776,11777,13184,13185,13186,13187,13188,13189,13190,
13191,13192,13193,13194,13195,13196,13197,13198,13199,13200,13201,13202,13203,13204,13205,13206,13207,13208,13209,13210,13211,13212,13213,13214,13215,13216,13217,13218,13219,13220,13221,13222,
13223,13224,13225,13226,13227,13228,13229,13230,13231,13232,13233,13234,13235,13236,13237,13238,13239,13240,13241,13242,13243,13244,13245,13246,13247,13248,13249,13250,13251,13252,13253,13254,
13255,13256,13257,13258,13259,13260,13261,13262,13263,13264,13265,13266,13267,13268,13269,13270,13271,13272,13273,13274,13275,13276,13277,13278,13279,15271,15272,15273,15274,15275,15276,15277,
15278,15279,15280,15281,15282,15283,15284,15285,15286,15287,15288,15289,15290,15291,15292,15293,15294,15295,15296,15297,15298,15299,15300,15301,15302,15431,15432,15433,15434,15435,15436,15437,
15438,15439,15440,15441,15442,15443,15444,15445,15446,15447,15448,15449,15450,15451,15452,15453,15454,15455,15456,15457,15458,15459,15460,15461,15462,15860,15861,15862,15863,15864,15865,15866,
15867,15868,15869,15870,15871,15872,15873,15874,15875,15876,15877,15878,15879,15880,15881,15882,15883,15884,15885,15886,15887,15888,15889,15890,15891,15892,15893,15894,15895,15896,15897,15898,
15899,15900,15901,15902,15903,15904,15905,15906,15907,15908,15909,15910,15911,15912,15913,15914,15915,15916,15917,15918,15919,15920,15921,15922,15923,15924,15925,15926,15927,15928,15929,15930,
15931,15932,15933,15934,15935,15936,15937,15938,15939,15940,15941,15942,15943,15944,15945,15946,15947,15948,15949,15950,15951,15952,15953,15954,15955,15956,15957,15958,15959,
10800,10801,10802,10803,10804,10805,10806,10807,10808,10809,10810,10811,10812,11926,11927,12289,12290,12291,12292,12293,12294,12295,12296,12298,12299,12300,12301,12302,12303,12304,12305,12306,
12307,12308,12309,12310,12311,12312,12313,12316,12317,12318,12319,12320,12321,12323,12324,12325,12326,12327,12328,12329,12330,12331,12332,12333,12334,12335,12336,12337,12338,12339,12340,12341,
12342,12343,12344,12345,12346,12347,12348,12349,12350,12351,12352,12353,12354,12355,12356,12357,12358,12359,12360,12361,12362,12363,12364,12365,12366,12367,12368,12369,12370,12371,12372,12373,
12374,12375,12376,12377,12378,12379,12380,12381,12382,12383,12384,12385,12386,12387,12388,12389,12390,12391,12392,12393,12394,12395,12396,12397,12398,12399,12400,12401,12402,12403,12404,12405,
12406,12407,12408,12409,12410,12411,12412,12413,12414,12415,12416,15066,15067,15068,15069,15070,15071,16161,16162,16163,16164,16165,16166,16167,16168,16169,16170,16171,16172,16173,16174,16175,
16176,16177,16178,16179,16180,16181,16182,16183,16184,16185,16186,16187,16188,16189,16190,16191,16192,16193,16194,16195,16196,16197,16198,16199,16200,16201};



local level1 = {10250,10251,10252,10253,10254,10256,10257,10258,10259,10260,10261,10262,10263,10264,10265,10266,10267,10268,10269,10270,10271,10293,10330,
10331,10332,10333,10334,10335,10336,10337,10338,10339,10340,10341,10342,10343,10344,10345,10382,10383,10429,10430,10431,10432,10433,10446,
10447,10593,10594,10595,10596,10875,11265,11266,11267,11268,11269,11270,11271,11272,11273,11274,11275,11276,11277,11278,11279,11280,11290,
11300,11301,11312,11316,11317,11318,11319,11320,11321,11322,11323,11324,11325,11326,11327,11328,11329,11330,11331,11332,11333,11334,11335,
11336,11337,11355,11356,11357,11358,11400,11403,11482,11485,11490,11491,11499,11500,11811,11812,11853,11854,11861,11862,11956,11957,11965,
11966,11967,11968,12448,12463,12472,12491,12496,12523,12526,12527,12551,12576,12600,12607,12615,12619,12631,12632,12633,12634,12635,12636,
12637,12679,12695,12704,12728,12744,12754,12755,12756,12757,12758,12759,12760,12807,12823,12832,12856,12883,12884,12885,12886,12887,12888,
12889,12897,12935,12951,12960,12983,12984,13005,13006,13007,13008,13009,13010,13011,13806,13808,13810,13819,13820,13821,13822,13842,13916,
13917,13945,13946,13947,13948,14068,14070,14072,14117,14169,14171,14173,14176,14195,14242,14290,14292,14294,14297,14374,14392,14393,14394,
14395,14396,14397,14398,14399,14400,14428,14429,14430,14450,14451,14452,14453,14454,14455,14456,14457,14458,14459,14460,14461,14462,14463,
14471,14472,14519,14520,14532,14533,14534,14535,14584,14585,14586,14587,14817,14830,14831,14832,15008,15043,15044,15045,15046,15047,15048,
15049,15050,15051,15176,15177,15178,15179,15180,15198,15199,15204,15212,15213,15408,15409,15410,15411,15412,15413,15414,15415,15416,15417,
15418,15419,15420,15421,15423,15424,15752,15753,15754,16075,16076,16109,16118,16119,16120,16321,16322,16323,16324,16325,16326,16327,16328,
16329,16330,16331,16332,16333,16334,16335,16336,16378,12543,11788,12505,13825,15268,12500,12796,13051,12440,12542,12568,12599,12696,12784,
12824,12908,12952,12971,13014,15351,15610,12456,12534,12584,12608,12616,12668,12712,12736,12774,12775,12840,12864,12898,12899,12968,12992,
13031,13037,14490,14541,15611,12502,12797};

local level2 = {12432,12487,12497,12509,12510,12529,12560,12629,12630,12661,12688,12752,12753,12768,12816,12863,12915,12944,13003,
13004,13024,13718,16144,16145,12449,12464,12471,12501,12528,12577,12591,12592,12664,12705,12720,12770,12773,12798,
12833,12848,12892,12896,12961,12976,13027,13030,15218,12473,12530,12601,12626,12729,12778,12857,12901,12985,12991,
12590,13052,15052,12485,12498,12506,12536,12799,13568,13833,13836,13807,13809,13811,13889,13890,13895,13896,14031,
14032,14037,14038,14069,14071,14073,14139,14140,14145,14146,14170,14172,14174,14177,14273,14274,14291,14293,14295,
14298,14338,14339,14344,14345,14348,14349,14375,14547,14551,14555,14559,14563,14818,14962,14966,14970,14974,14978,
15626,15630,15634,15638,15642,15712,15716,15720,15724,15728,16085,16089,16093,16097,16101,16367,12454,12582,12710,
12749,12788,12834,12912,12966,13042,13716,13826,14464,14495,11407,11412,12441,12480,12569,12697,12785,12825,12909,
12953,13038,13697,12457,12537,12585,12624,12713,12777,12841,12902,12969,13012,13033,13818,13837,14206,13729,15147};

local level3 = {10647,10648,11309,12484,12495,12531,12609,12653,12719,12737,12855,12865,12881,12882,12917,12975,12993,
13045,13048,13725,13933,13953,14053,14054,14062,14080,14126,14251,14386,14446,14447,14841,15186,15207,15208,15343,
15344,15404,15405,15736,16078,16364,12455,12583,12711,12789,12835,12913,12967,13043,13717,13827,14314,13013,12465,
12535,12593,12669,12721,12776,12849,12900,12977,13032,12424,12486,12524,12552,12662,12680,12769,12808,12890,12922,
12936,13025,14132,14133,14531,15224,11401,11493,13901,13902,14043,14044,14149,14150,14151,14152,14259,14260,14265,
14266,14269,14270,14327,14331,14350,14351,14426,14433,14548,14552,14556,14560,14564,14858,14862,14884,14963,14967,
14971,14975,14979,15165,15169,15315,15319,15627,15631,15635,15639,15643,15713,15717,15721,15725,15729,16086,16090,
16094,16098,16102,16368,13838,12433,12532,12561,12567,12665,12689,12761,12762,12763,12764,12765,12766,12767,12771,
12817,12893,12945,13028,13731,14024,14025,12474,12479,12602,12627,12730,12782,12858,12906,12986,13022,14134,14135,
12458,12539,12586,12671,12714,12781,12842,12905,12970,13015,13016,13017,13018,13019,13020,13021,13035,14325,14328,
14329,14332,14424,14427,14431,14435,14856,14859,14860,14863,15163,15166,15167,15171,15313,15316,15317,15321,15422};


local level4 = {11494,12431,12438,12442,12470,12507,12566,12570,12598,12687,12694,12698,12726,12786,12822,12826,12854,
12910,12943,12950,12954,12982,13039,13707,13824,13828,13830,14018,14207,14323,14324,14326,14330,14333,14422,14423,
14425,14432,14434,14465,14493,14854,14855,14857,14861,14865,14957,15053,15058,15161,15162,15164,15168,15172,15269,
15311,15312,15314,15318,15326,16132,16133,12871,12872,12873,12874,12875,12876,12877,11338,15173,11492,12654,12655,
12656,12657,12658,12659,12660,13730,13750,13751,11339,12610,12670,12738,12780,12866,12904,12994,13040,13839,13891,
13892,13897,13898,13899,13900,13903,13904,13952,14033,14034,14039,14040,14045,14046,14141,14142,14147,14148,14153,
14154,14267,14268,14271,14272,14346,14347,14352,14353,14491,14874,14986,12450,12522,12525,12578,12663,12706,12718,
12836,12891,12962,12973,13026,13796,13797,14549,14553,14557,14561,14565,14964,14968,14972,14976,14980,15628,15632,
15636,15640,15644,15714,15718,15722,15726,15730,16087,16091,16095,16099,16103,16110,12425,12466,12499,12533,12538,
12540,12553,12594,12625,12666,12681,12722,12750,12772,12779,12809,12850,12894,12903,12937,12978,13029,13034,13569,
14885,15170,12923,13783,13784,13871,13872,14001,14002,14118,14119,12443,12475,12481,12571,12603,12699,12731,12787,
12793,12827,12859,12911,12918,12955,12987,13023,13041,13709,13726,13834,15320,15347,15348,13054,15183,15219,15737};

local level5 = {11310,11311,11340,11348,12416,12422,12462,12544,12559,12614,12672,12678,12743,12791,12800,12815,12870,
12916,12928,12934,12998,13046,13719,13721,13724,13728,13812,13813,13831,13840,13931,13932,14019,14116,14125,14243,
14244,14249,14250,14384,14385,14466,15222,15372,16365,16366,13979,13980,14164,14165,14864,15184,15220,13732,13752,
13753,14286,11402,13841,13893,13894,14005,14035,14036,14047,14048,14143,14144,14155,14156,14261,14262,14275,14276,
14340,14341,14354,14355,14356,14357,14358,14359,15042,15185,12459,12843,13865,13882,13883,14236,12727,12790,12837,
12914,13044,13703,13710,13711,13712,13713,13714,13715,13723,13736,13829,14051,14052,14444,14445,14497,14581,14866,
14987,15005,15205,15206,15341,15342,15402,15403,15650,15749,16141,16312,12426,12554,12587,12667,12682,12715,12792,
12810,12895,12938,13047,13769,13832,13884,13885,13996,14989,13055,13981,13982,14120,14121,14122,14988,15373,12444,
12467,12541,12572,12595,12700,12723,12783,12795,12828,12851,12907,12919,12924,12956,12979,13036,13049,13696,13727,
13785,13786,13835,13873,13874,14003,14004,14990,14991,15651,15652,12417,12460,12545,12588,12673,12716,12801,12844,
12925,12929,12972,12974,13733,13737,13844,13847,13955,13958,14082,14086,14112,14211};


local level6 = {11370,11371,12478,12494,12521,12550,12606,12611,12651,12686,12734,12739,12794,12806,12862,12867,12926,
12942,12990,12995,13050,13720,13814,13815,13849,13939,13940,14020,14189,14190,14245,14246,14310,14311,14334,14335,
14401,14402,14403,14404,14405,14406,14407,14408,14409,14410,14411,14412,14413,14492,14498,14499,14826,14827,14842,
14843,14844,14845,14907,14908,14936,14937,14992,15149,15150,15242,15243,15367,15368,15369,15370,15371,15375,15376,
15377,15378,15379,15380,15381,15382,15383,15384,15385,15386,15388,15578,15579,15663,15664,15691,15692,15698,16065,
16066,13978,14128,15196,15197,15389,15390,13798,13799,13905,13906,13966,13971,13983,13984,14029,14030,14049,14050,
14089,14090,14091,14092,14093,14095,14096,14097,14098,14100,14137,14138,14157,14158,14226,14227,14228,14263,14264,
14277,14278,14342,14343,14360,14361,14362,14363,14952,15002,15003,15004,15148,15151,15601,15602,15684,12476,12604,
12652,12732,12860,12927,12988,13843,13875,13954,14081,14254,14255,14542,14543,14955,14956,15620,15621,15706,15707,
16079,16080,12503,12514,12518,13851,13855,13857,13961,13962,13964,13965,13967,13968,13969,13975,14101,14102,14225,
14929,15600,15686,15748,16138,16139,12430,12558,12814,13722,13800,13801,14526,14529,14582,14583,14934,14939,15006,
15007,15605,15608,15689,15694,15750,15751,16063,16068,16142,16143,16313,16314,16373,16374,16377,12511,12512,12515,
12517,13803,13869,13972,13974,14063,14103,14216,14217,14218,14219,14221,14223,14224,14867,14928,14930,15685,15746,
15747,16311,11341,11349,12451,12482,12579,12707,12838,12963,13734,13956,13977,14083,14208,12639,12640,12641,12642,
12643,12645,12646,12647,12648,12649,12650,12829,13698,13699,13700,13701,13702,13739,13744,13745,13781,13782,13960,
14026,14027,14064,14088,14213,14214,14220,14496,14521,14522,14523,14580,15659,15660,11342,11495,11498,12427,12439,
12555,12683,12811,12939,12980,13735,13748,13749,13754,13755,13976,14084,14104,14209,14524,14528,14932,14938,15054,
15323,15338,15603,15607,15687,15693,15738,15739,16061,16067};


local level7 = {11372,11373,11404,12418,12508,12513,12516,12519,12520,12546,12638,12644,12674,12802,12930,13590,13738,
13740,13741,13742,13743,13848,13850,13854,13856,13868,13959,13963,13970,13973,13987,13988,14021,14087,14094,14099,
14212,14215,14222,14578,14579,14870,14944,14953,14954,15211,15221,15265,15266,15267,15612,16140,11343,12740,12852,
12996,13789,13790,13878,13879,14000,14008,14009,14115,14237,15200,15201,15202,15203,15653,15654,15699,11344,11345,
11346,11350,11351,11352,11405,13804,13912,13913,14166,14167,14198,14199,14200,14201,14202,14203,14204,14205,14287,
14833,14834,14835,14836,14837,14838,14839,14840,11347,11353,12435,12708,12830,12868,12958,13859,13881,13886,13994,
14023,14028,14065,14066,14108,14129,14136,14232,14240,15759,11486,12612,12819,12947,13777,13795,13802,14106,14230,
14253,14256,15174,15374,12419,12423,12446,12452,12468,12563,12574,12580,12596,12628,12691,12702,12724,12839,12964,
13761,13763,13765,13861,13863,13866,13870,13880,13990,13992,13997,14013,14014,14015,14016,14017,14110,14234,14571,
14572,14941,14942,14945,14993,14994,15055,15059,15324,15696,15697,16111,16112,16121,16122,16123,16124,16130,16131,
16134,16135,16136,16137,12453,12461,12477,12483,12547,12589,12621,12709,12717,12751,12803,12931,12965,13756,13846,
13864,13995,14105,14111,14130,14131,14229,12504,12581,12675,12733,12878,12989,13766,13805,13858,13989,13999,14114,
14235,14284,14285,14536,14886,15349,11374,11375,12428,12436,12605,12684,12692,12861,12940,12948,13774,13779,13780,
13845,13860,13991,14012,14107,14127,14239,14588,14589,14590,14591,14951,15009,15010,15011,15012,15705,15708,15755,
15756,15757,15758,16081,16128,16129,16146,16147,16148,16149,16315,16316,16317,16318,11391,11473,11474,12447,12556,
12703,12812,12820,12959,13775,13776,13793,13862,13993,14109,14231,14252,15033,15328,16077,16320,16354,16355};

local level8 = {11367,11369,11379,11380,11406,11496,12469,12564,12575,12597,12617,12725,12748,12831,12853,12880,12981,
13574,13704,13705,13706,13708,13757,13758,13762,13764,13767,13768,13770,13771,13772,13773,13794,13823,13867,13907,
13914,13915,13918,13919,13985,13986,13998,14022,14057,14067,14074,14075,14113,14159,14168,14233,14238,14279,14288,
14289,14317,14318,14366,14416,14417,14436,14437,14438,14439,14443,14494,14515,14516,14517,14518,14539,14540,14848,
14849,14871,14875,14876,14877,14878,14879,14883,14924,14925,14926,14927,14958,14959,14960,14999,15000,15001,15013,
15014,15017,15018,15152,15155,15156,15187,15188,15189,15193,15194,15195,15260,15261,15262,15263,15305,15306,15322,
15329,15330,15331,15332,15333,15337,15387,15391,15392,15393,15394,15395,15399,15595,15596,15597,15598,15614,15622,
15623,15624,15680,15681,15682,15683,15700,15709,15710,15744,15745,16082,16083,16125,16126,16127,16372,11286,11287,
11288,11368,11382,11390,11392,12108,12109,12110,12111,12112,12113,12114,12115,12116,12117,12118,12119,12120,12121,
12122,12123,12124,12125,12126,12127,12128,12129,12130,12131,12132,12133,12134,12135,12136,12137,12138,12139,12140,
12141,12142,12143,12144,12145,12146,12147,12148,12149,12150,12151,12152,12153,12154,12155,12156,12157,12158,12159,
12160,12161,12162,12163,12164,12165,12166,12167,12168,12169,12170,12171,12172,12173,12174,12175,12176,12177,12178,
12179,12180,12181,12182,12183,12184,12185,12186,12187,12188,12189,12190,12191,12192,12193,12194,12195,12196,12197,
12198,12199,12200,12201,12202,12203,12204,12205,12206,12207,12208,12209,12210,12211,12212,12213,12214,12215,12216,
12217,12218,12219,12220,12221,12222,12223,12224,12225,12226,12227,12228,12229,12230,12231,12232,12233,12234,12235,
12236,12237,12238,12239,12240,12241,12242,12243,12244,12245,12246,12247,12248,12249,12250,12251,12252,12253,12254,
12255,12256,12257,12258,12259,12260,12261,12262,12263,12264,12265,12266,12267,12268,12269,12270,12271,12272,12273,
12274,12275,12276,12277,12278,12279,12280,12281,12282,12283,12284,12285,12286,12287,12490,12618,12847,13002,13887,
13888,13957,14010,14011,14319,14320,14382,14383,14418,14419,14442,14467,14468,14544,14545,14566,14567,14850,14851,
14882,14889,14981,14982,15016,15034,15038,15040,15056,15077,15080,15112,15129,15130,15131,15132,15133,15134,15135,
15136,15138,15139,15141,15143,15157,15158,15175,15181,15192,15307,15308,15325,15336,15339,15340,15398,15400,15401,
15618,15619,15645,15646,15731,15732,15760,16104,16105,16152,16158,16159,16160,16338,16339,16349,16352,16356,11282,
11283,11284,11366,11376,11377,11378,11388,11398,11408,11409,11478,11483,11484,12437,12445,12565,12573,12693,12701,
12821,12879,12949,12957,13747,13925,13926,13929,13930,13938,13942,13943,13944,14078,14079,14178,14179,14182,14183,
14188,14194,14196,14197,14299,14300,14301,14302,14307,14313,14315,14316,14376,14377,14380,14381,14391,14414,14415,
14440,14441,14525,14527,14530,14537,14538,14819,14820,14825,14829,14846,14847,14880,14881,14933,14935,14940,14949,
14950,15021,15022,15023,15028,15074,15081,15092,15095,15102,15105,15106,15108,15109,15116,15118,15127,15128,15144,
15145,15153,15154,15190,15191,15303,15304,15327,15334,15335,15396,15397,15604,15606,15609,15613,15615,15616,15688,
15690,15695,15701,15703,15704,16062,16064,16069,16073,16074,16153,16155,16156,16157,16340,16341,16342,16343,16346,
11365,11385,11396,12420,12421,12429,12548,12549,12557,12676,12677,12685,12742,12804,12805,12813,12932,12933,12941,
13746,13787,13788,13876,13877,13908,13909,13910,13911,13922,13923,13924,13927,13928,13934,13935,13936,13937,13941,
13949,14006,14007,14058,14059,14061,14076,14077,14123,14124,14160,14161,14163,14175,14180,14181,14184,14185,14186,
14187,14193,14247,14248,14280,14281,14283,14296,14303,14304,14305,14306,14308,14309,14312,14321,14322,14367,14368,
14370,14371,14372,14373,14378,14379,14387,14388,14389,14390,14420,14421,14816,14821,14822,14823,14824,14828,14852,
14853,14873,14943,14947,14948,15025,15031,15072,15078,15082,15084,15103,15111,15113,15115,15119,15120,15121,15124,
15125,15137,15146,15159,15160,15182,15309,15310,16072,16150,16154,16362,16375,16376,11289,11291,11292,11294,11295,
11297,11298,11302,11303,11304,11307,11381,11384,11387,11393,11394,11395,11410,11411,11464,11467,11470,11475,11476,
11477,13816,13817,13950,13951,14055,14056,14191,14192,14448,14449,14473,14474,14475,14476,14477,14478,14479,14480,
14481,14482,14483,14484,14485,14486,14487,14869,14872,14890,14891,14892,14893,14894,14895,14896,14897,14898,14899,
14900,14901,14902,14903,14904,15024,15027,15030,15035,15036,15037,15057,15088,15089,15090,15091,15094,15096,15098,
15099,15100,15101,15117,15122,15123,15140,15142,15209,15210,15223,15225,15226,15227,15228,15229,15230,15231,15232,
15233,15234,15235,15236,15237,15238,15239,15345,15346,15352,15353,15354,15355,15356,15357,15358,15359,15360,15361,
15362,15363,15364,15365,15366,15406,15407,15561,15562,15563,15564,15565,15566,15567,15568,15569,15570,15571,15572,
15573,15574,15575,15702,16319,16344,16345,16348,16351,16357,16358,16359,16360,11281,11285,11293,11296,11299,11305,
11306,11308,11313,11314,11315,11354,11364,11383,11386,11389,11397,11399,11465,11466,11468,11469,11471,11472,11479,
11480,11481,11487,11488,11489,11497,11501,11502,12434,12562,12690,12818,12946,13920,13921,14162,14469,14470,14488,
14489,14500,14501,14502,14503,14504,14505,14506,14507,14508,14509,14510,14511,14512,14513,14514,14546,14550,14554,
14558,14562,14568,14569,14570,14573,14574,14575,14576,14577,14905,14906,14909,14910,14911,14912,14913,14914,14915,
14916,14917,14918,14919,14920,14921,14922,14923,14931,14946,14961,14965,14969,14973,14977,14983,14984,14985,14995,
14996,14997,14998,15015,15026,15029,15032,15039,15041,15073,15075,15076,15079,15083,15085,15086,15087,15093,15097,
15104,15107,15110,15114,15126,15214,15215,15216,15217,15240,15241,15244,15245,15246,15247,15248,15249,15250,15251,
15252,15253,15254,15255,15256,15257,15258,15259,15264,15270,15350,15425,15576,15577,15580,15581,15582,15583,15584,
15585,15586,15587,15588,15589,15590,15591,15592,15593,15594,15599,15617,15625,15629,15633,15637,15641,15647,15648,
15649,15655,15656,15657,15658,15661,15662,15665,15666,15667,15668,15669,15670,15671,15672,15673,15674,15675,15676,
15677,15678,15679,15711,15715,15719,15723,15727,15733,15734,15735,15740,15741,15742,15743,16070,16071,16084,16088,
16092,16096,16100,16106,16107,16108,16113,16114,16115,16116,16117,16151,16337,16347,16350,16353,16361,16363,16369,
16370,16371,12999,13053,13852,13853,14041,15064,11418,11421,11423,11426,11427,11428,11429,11522,11525,11780,11781,
11782,11783,11830,11831,11832,11833,11880,11881,11882,11883,11930,11931,11932,11933,12488,12493,13000,14042,15060,
15063,16379,16380,11413,11414,11415,11419,11420,11422,11503,11504,11505,11506,11508,11509,11510,11511,11512,11513,
11514,11515,11516,11517,11518,11519,11520,11521,11527,12492,12745,12746,12747,13759,13760,13778,14210,14257,14258,
14868,15061,15065,15427,16382,11416,11417,11424,11425,11523,11526,11778,11779,11828,11829,11878,11879,11928,11929,
12921,13001,13791,14060,14337,14365,14888,15062,15428,15430,16381};


local level9 = {11507,11524,12489,12620,12622,12623,12741,12846,12920,12997,13792,14085,14282,14336,14364,14369,14887,
15019,15020,15426,15429,11144,11145,11146,11147,11148,11149,11150,11151,11152,11153,11154,11155,11156,11157,11158,
11159,11160,11161,11162,11163,11244,11245,11246,11247,11248,11249,11250,11251,11252,11253,11254,11255,11256,11257,
11258,11259,11260,11261,11262,11263,11886,11937,12088,12089,12090,12091,12092,12093,12094,12095,12096,12097,12098,
12099,12100,12101,12102,12103,12104,12105,12106,12107,11434,11885,11124,11125,11126,11127,11128,11129,11130,11131,
11132,11133,11134,11135,11136,11137,11138,11139,11140,11141,11142,11143,11224,11225,11226,11227,11228,11229,11230,
11231,11232,11233,11234,11235,11236,11237,11238,11239,11240,11241,11242,11243,11430,11787,11935,12068,12069,12070,
12071,12072,12073,12074,12075,12076,12077,12078,12079,12080,12081,12082,12083,12084,12085,12086,12087,11360,11361,
11433,11784,11786,11884,11934,11064,11065,11066,11067,11068,11069,11070,11071,11072,11073,11074,11075,11076,11077,
11078,11079,11080,11081,11082,11083,11164,11165,11166,11167,11168,11169,11170,11171,11172,11173,11174,11175,11176,
11177,11178,11179,11180,11181,11182,11183,11359,11431,11432,11785,11936,12008,12009,12010,12011,12012,12013,12014,
12015,12016,12017,12018,12019,12020,12021,12022,12023,12024,12025,12026,12027,11444,11446,11800,11801,11813,11897,
11909,11910,11947,11948,11949,11104,11105,11106,11107,11108,11109,11110,11111,11112,11113,11114,11115,11116,11117,
11118,11119,11120,11121,11122,11123,11204,11205,11206,11207,11208,11209,11210,11211,11212,11213,11214,11215,11216,
11217,11218,11219,11220,11221,11222,11223,11435,11436,11437,11438,11439,11440,11441,11442,11443,11447,11448,11449,
11450,11451,11452,11789,11790,11791,11792,11793,11794,11795,11796,11797,11802,11803,11804,11805,11806,11807,11834,
11835,11836,11837,11838,11839,11840,11841,11842,11844,11845,11846,11847,11848,11849,11887,11888,11889,11890,11891,
11892,11893,11894,11895,11898,11899,11900,11901,11902,11903,11904,11905,11906,11907,11911,11912,11913,11914,11915,
11916,11917,11938,11939,11940,11941,11942,11943,11944,11945,11946,11950,11951,11952,11953,11954,11955,12048,12049,
12050,12051,12052,12053,12054,12055,12056,12057,12058,12059,12060,12061,12062,12063,12064,12065,12066,12067,11456,
11815,11816,11817,11818,11819,11820,11821,11822,11823,11896,11918,11919,14241,11084,11085,11086,11087,11088,11089,
11090,11091,11092,11093,11094,11095,11096,11097,11098,11099,11100,11101,11102,11103,11184,11185,11186,11187,11188,
11189,11190,11191,11192,11193,11194,11195,11196,11197,11198,11199,11200,11201,11202,11203,11445,11453,11454,11455,
11843,11908,11958,11959,11960,11961,12028,12029,12030,12031,12032,12033,12034,12035,12036,12037,12038,12039,12040,
12041,12042,12043,12044,12045,12046,12047};


	
	if (prize < 16385) then
	for _,v in pairs(exclude) do
	if (v ~= prize) then
		for _,v in pairs(level1) do
		if (v == prize) then  --  look for the item in the level 1 list
			if (power > 1)  then
			power = 1;
			end
		end
		end

	    for _,v in pairs(level2) do
		if (v == prize) then  --  look for the item in the level 2 list
			if (power > 2)  then
			power = 2;
			player:PrintToPlayer(power);
			end
		end
	end
	for _,v in pairs(level3) do
		if (v == prize) then  --  look for the item in the level 3 list
			if (power > 3)  then
			power = 3;
			end
		end
	end
	for _,v in pairs(level4) do
		if (v == prize) then  --  look for the item in the level 4 list
			if (power > 4)  then
			power = 4;
			end
		end
	end
    for _,v in pairs(level5) do
		if (v == prize) then  --  look for the item in the level 5 list
			if (power > 5)  then
			power = 5;
			end
		end
	end
    for _,v in pairs(level6) do
		if (v == prize) then  --  look for the item in the level 6 list
			if (power > 6)  then
			power = 6;
			end
		end
	end
    for _,v in pairs(level7) do
		if (v == prize) then  --  look for the item in the level 7 list
			if (power > 7)  then
			power = 7;
			end
		end
	end	
	for _,v in pairs(level8) do
		if (v == prize) then  --  look for the item in the level 8 list
			if (power > 8)  then
			power = 8;
			end
		end
	end
	for _,v in pairs(level9) do
		if (v == prize) then  --  look for the item in the level 9 list
			if (power > 9)  then
			power = 9;
			end
		end
	end

	
	-- player:PrintToPlayer("Correct Item");
		-- Leafslit  STR/DEX
      if trade:getItem(1) == 8933 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 550;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8933 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 550;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8933 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 550;
         v4 = math.floor(power * 0.5);
       end
	   
-- Leaftip  STR/AGI
      if trade:getItem(1) == 8942 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 552;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8942 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 552;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8942 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 552;
         v4 = math.floor(power * 0.5);
       end	

-- Leafdim  DEX/AGI
      if trade:getItem(1) == 8951 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 553;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8951 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 553;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8951 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 553;
         v4 = math.floor(power * 0.5);
       end	 

-- Leaforb STR/VIT
      if trade:getItem(1) == 8960 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 551;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8960 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 551;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8960 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 551;
         v4 = math.floor(power * 0.5);
       end	
	   


-- Leafslit +1 Accuracy/Attack
      if trade:getItem(1) == 8934 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 68;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8934 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 68;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8934 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 68;
         v4 = math.floor(power * 0.5);
       end
	   
-- Leaftip +1 RNG Acc/Att
      if trade:getItem(1) == 8943 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 69;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8943 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 69;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8943 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 69;
         v4 = math.floor(power * 0.5);
       end	

-- Leafdim +1 Evasion
      if trade:getItem(1) == 8952 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 31;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8952 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 31;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8952 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 31;
         v4 = math.floor(power * 0.5);
       end	 

-- Leaforb +1 Defense
      if trade:getItem(1) == 8961 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 33;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8961 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 33;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8961 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 33;
         v4 = math.floor(power * 0.5);
       end	   
	   
	   
-- Leafslit +2
      if trade:getItem(1) == 8935 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 143;
         v2 = math.floor(power * 0.1);
      elseif trade:getItem(2) == 8935 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 143;
         v3 = math.floor(power * 0.1);
      elseif trade:getItem(3) == 8935 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 143;
         v4 = math.floor(power * 0.1);
       end
	   
-- Leaftip +2
      if trade:getItem(1) == 8944 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 49;
         v2 = math.floor(power * 0.1);
      elseif trade:getItem(2) == 8944 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 49;
         v3 = math.floor(power * 0.1);
      elseif trade:getItem(3) == 8944 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 49;
         v4 = math.floor(power * 0.1);
       end	

-- Leafdim +2
      if trade:getItem(1) == 8953 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 142;
         v2 = math.floor(power * 0.1);
      elseif trade:getItem(2) == 8953 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 142;
         v3 = math.floor(power * 0.1);
      elseif trade:getItem(3) == 8953 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 142;
         v4 = math.floor(power * 0.1);
       end	 

-- Leaforb +2
      if trade:getItem(1) == 8962 then 
         a1 = 1;
         v1 = power - 1;
		 a2 = 41;
         v2 = math.floor(power * 0.1);
      elseif trade:getItem(2) == 8962 then 
	     a1 = 1;
         v1 = power - 1;
         a3 = 41;
         v3 = math.floor(power * 0.1);
      elseif trade:getItem(3) == 8962 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 41;
         v4 = math.floor(power * 0.1);
       end	   
	   
----------------------------------
--            Snow Items        --
----------------------------------
	   
-- Snowslit	   INT/MND
 if trade:getItem(1) == 8930 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 554;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8930 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 554;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8930 then 
	     a1 = 1;
         v1 = power - 1;
         a4 = 554;
         v4 = math.floor(power * 0.5);
       end
	   
-- Snowtip  MND/CHR
      if trade:getItem(1) == 8939 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 555;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8939 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 555;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8939 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 555;
         v4 = math.floor(power * 0.5);
       end	

-- Snowdim STR/CHR
      if trade:getItem(1) == 8948 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 557;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8948 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 557;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8948 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 557;
         v4 = math.floor(power * 0.5);
       end	 

-- Snoworb  STR/INT
      if trade:getItem(1) == 8957 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 558;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8957 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 558;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8957 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 558;
         v4 = math.floor(power * 0.5);
       end	
	   
	   
	   
-- Snowslit +1 Magic Attack
      if trade:getItem(1) == 8931 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 133;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8931 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 133;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8931 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 133;
         v4 = math.floor(power * 0.5);
       end
	   
-- Snowftip Magic Acc
      if trade:getItem(1) == 8940 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 35;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8940 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 35;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8940 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 35;
         v4 = math.floor(power * 0.5);
       end	

-- Snowfdim +1  -- Magic EVASION
      if trade:getItem(1) == 8949 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 37;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8949 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 37;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8949 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 37;
         v4 = math.floor(power * 0.5);
       end	 

-- Snowforb +1  Magic DEFENSE
      if trade:getItem(1) == 8958 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 134;
         v2 = math.floor(power * 0.5);
      elseif trade:getItem(2) == 8958 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 134;
         v3 = math.floor(power * 0.5);
      elseif trade:getItem(3) == 8958 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 134;
         v4 = math.floor(power * 0.5);
       end	   
	   
	   
-- Snowslit +2  Cure Spellcasting -%
      if trade:getItem(1) == 8932 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 323;
         v2 = math.floor(power * 0.2);
      elseif trade:getItem(2) == 8932 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 323;
         v3 = math.floor(power * 0.2);
      elseif trade:getItem(3) == 8932 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 323;
         v4 = math.floor(power * 0.2);
       end
	   
-- Snowtip +2 Magic Damage +
      if trade:getItem(1) == 8941 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 362;
         v2 = math.floor(power * 0.2);
      elseif trade:getItem(2) == 8941 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 362;
         v3 = math.floor(power * 0.2);
      elseif trade:getItem(3) == 8941 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 362;
         v4 = math.floor(power * 0.2);
       end	

-- Snowdim +2  Magic Critical
      if trade:getItem(1) == 8950 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 355;
         v2 = math.floor(power * 0.3);
      elseif trade:getItem(2) == 8950 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 355;
         v3 = math.floor(power * 0.3);
      elseif trade:getItem(3) == 8950 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 355;
         v4 = math.floor(power * 0.3);
       end	 

-- Snoworb +2  Song Recast 
      if trade:getItem(1) == 8959 then 
         a1 = 9;
         v1 = power - 1;
		 a2 = 357;
         v2 = math.floor(power * 0.2);
      elseif trade:getItem(2) == 8959 then 
	     a1 = 9;
         v1 = power - 1;
         a3 = 357;
         v3 = math.floor(power * 0.2);
      elseif trade:getItem(3) == 8959 then 
	     a1 = 9;
         v1 = power - 1;
         a4 = 357;
         v4 = math.floor(power * 0.2);
       end	   	   
	   
	   
	   

	  
	
	
	
	else
	player:PrintToPlayer("Aengus : I can't do anything with that", 0xD);
	break;
	end

       end
	   else
	   noaug = 1;
	   end

    
	
	if(player:getFreeSlotsCount() >= 1) then
	if (noaug == 0) then
     player:tradeComplete();
     player:addItem(prize,1,a1,v1,a2,v2,a3,v3,a4,v4);
	 player:PrintToPlayer("Aengus : Enjoy your new armor", 0xD);
     player:messageSpecial(ITEM_OBTAINED,prize);
     else
     player:PrintToPlayer("Aengus : I can't do anything with that", 0xD);
    end
	else
	player:messageSpecial(ITEM_CANNOT_BE_OBTAINED,prize);
	end
	

end;





-----------------------------------
-- onTrigger Action
-----------------------------------

function onTrigger(player,npc)


end;

-----------------------------------
-- onEventUpdate
-----------------------------------

function onEventUpdate(player,csid,option)
--printf("CSID: %u",csid);
--printf("RESULT: %u",option);
end;

-----------------------------------
-- onEventFinish
-----------------------------------

function onEventFinish(player,csid,option)
--printf("CSID: %u",csid);
--printf("RESULT: %u",option);
end;